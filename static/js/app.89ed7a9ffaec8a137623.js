webpackJsonp([1],{NHnr:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i("7+uW"),a={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var o=i("VU/8")({name:"App"},a,!1,function(e){i("vGjf")},null,null).exports,s=i("/ocq"),n={name:"game",data:function(){return{ready:!1,paused:!1,end:!1,borderCollision:!1,gridSize:0,direction:"up",points:3,col:0,row:0,speed:0}},methods:{sendGridSize:function(){var e=document.querySelector("table"),t=document.createDocumentFragment(),i=parseInt(this.gridSize),r=i/2+1,a=document.createElement("tbody");e.removeChild(e.firstChild),e.appendChild(a),this.ready=!0;for(var o=0;o<i+1;o++){var s=document.createElement("tr");a.appendChild(s),s.classList.add("item","item-col","item-col-"+(o+1));for(var n=0;n<i+1;n++){var d=document.createElement("td");s.appendChild(d),d.classList.add("item","item-row-"+(n+1))}}e.appendChild(t),document.querySelector(".item-col-"+r+">.item-row-"+r).classList.add("item-active"),this.col=r,this.row=r;var c=document.querySelector(".item-col-1").children,l=document.querySelectorAll(".item-row-1"),m=document.querySelector(".item-col-"+(i+1)).children,u=document.querySelectorAll(".item-row-"+(i+1));!function(){function e(e){for(var t=0;t<e.length;t++)e[t].classList.add("border")}e(c),e(m),e(l),e(u)}()},startGame:function(){var e=parseInt(this.gridSize),t=e/2+1,i=this,r=document.querySelector(".item-col-"+i.col+">.item-row-"+i.row);function a(){var e=document.querySelectorAll(".item:not(.item-active):not(.border):not(.item-col)"),t=e.length;e[Math.floor(Math.random()*t-1+0)].classList.add("item-block")}document.querySelector(".item-col-"+t+">.item-row-"+t).classList.remove("item-active"),a(),setInterval(function(){var t=document.querySelectorAll(".item-active");function o(){r.setAttribute("data-num",1);for(var e=0;e<t.length;e++)if(t[e].hasAttribute("data-num")){var a=parseInt(t[e].getAttribute("data-num"));t[e].setAttribute("data-num",a+1)}var o=Array.prototype.slice.call(document.querySelectorAll("[data-num]"));o.sort(function(e,t){return+e.getAttribute("data-num")-+t.getAttribute("data-num")});var s=o.slice(-(o.length-i.points));if(o.length>i.points)for(e=0;e<s.length;e++)s[e].removeAttribute("data-num"),s[e].classList.remove("item-active"),s[e].classList.remove("item-body")}r.classList.contains("item-block")&&(i.points=i.points+1,document.querySelector(".item-block").classList.remove("item-block"),a()),r.classList.contains("item-body")&&(i.end=!0,i.paused=!0),function(){for(var e=0;e<t.length;e++)t[e].getAttribute("data-num")>1&&(t[e].classList.remove("item-head"),t[e].classList.add("item-body"))}(),1==i.col||i.col==e+1||1==i.row||i.row==e+1?(i.end=!0,i.paused=!0):"up"==i.direction&&0==i.paused?((r=document.querySelector(".item-col-"+(i.col-1)+">.item-row-"+i.row)).classList.add("item-active","item-head"),i.col=i.col-1,o()):"down"==i.direction&&0==i.paused?((r=document.querySelector(".item-col-"+(i.col+1)+">.item-row-"+i.row)).classList.add("item-active","item-head"),i.col=i.col+1,o()):"left"==i.direction&&0==i.paused?((r=document.querySelector(".item-col-"+i.col+">.item-row-"+(i.row-1))).classList.add("item-active","item-head"),i.row=i.row-1,o()):"right"==i.direction&&0==i.paused&&((r=document.querySelector(".item-col-"+i.col+">.item-row-"+(i.row+1))).classList.add("item-active","item-head"),i.row=i.row+1,o())},i.speed),document.addEventListener("keydown",function(e){e.preventDefault(),90==e.keyCode&&"down"!==i.direction?i.direction="up":81==e.keyCode&&"right"!==i.direction?i.direction="left":68==e.keyCode&&"left"!==i.direction?i.direction="right":83==e.keyCode&&"up"!==i.direction?i.direction="down":32==e.keyCode&&(i.paused^=!0)})},resetData:function(){this.$router.go(0)}}},d={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"game"},[e._m(0),e._v(" "),i("div",{staticClass:"row center"},[i("aside",{staticClass:"col-lg-3"},[i("nav",[i("h2",[e._v("Réglages")]),e._v(" "),0==e.ready?i("div",{staticClass:"row center-xs"},[i("fieldset",[i("legend",[e._v("Taille de la grille")]),e._v(" "),i("div",{staticClass:"row"},[i("label",{staticClass:"col-lg-8",attrs:{for:"size-20"}},[e._v("Petit")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.gridSize,expression:"gridSize"}],attrs:{type:"radio",name:"size",id:"size-20",value:"22"},domProps:{checked:e._q(e.gridSize,"22")},on:{change:function(t){e.gridSize="22"}}})]),e._v(" "),i("div",{staticClass:"row"},[i("label",{staticClass:"col-lg-8",attrs:{for:"size-30"}},[e._v("Moyen")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.gridSize,expression:"gridSize"}],attrs:{type:"radio",name:"size",id:"size-30",value:"32"},domProps:{checked:e._q(e.gridSize,"32")},on:{change:function(t){e.gridSize="32"}}})]),e._v(" "),i("div",{staticClass:"row"},[i("label",{staticClass:"col-lg-8",attrs:{for:"size-40"}},[e._v("Grand")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.gridSize,expression:"gridSize"}],attrs:{type:"radio",name:"size",id:"size-40",value:"42"},domProps:{checked:e._q(e.gridSize,"42")},on:{change:function(t){e.gridSize="42"}}})])]),e._v(" "),0!==e.gridSize&&0!==e.speed?i("button",{staticClass:"col-lg-3",on:{click:e.sendGridSize}},[e._v("Générer")]):e._e()]):e._e(),e._v(" "),0==e.ready?i("div",{staticClass:"row center-xs"},[i("fieldset",[i("legend",[e._v("Vitesse")]),e._v(" "),i("div",{staticClass:"row"},[i("label",{staticClass:"col-lg-8",attrs:{for:"speed-normal"}},[e._v("Normale")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.speed,expression:"speed"}],attrs:{type:"radio",name:"speed",id:"speed-normal",value:"400",checked:""},domProps:{checked:e._q(e.speed,"400")},on:{change:function(t){e.speed="400"}}})]),e._v(" "),i("div",{staticClass:"row"},[i("label",{staticClass:"col-lg-8",attrs:{for:"speed-fast"}},[e._v("Rapide")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.speed,expression:"speed"}],attrs:{type:"radio",name:"speed",id:"speed-fast",value:"200"},domProps:{checked:e._q(e.speed,"200")},on:{change:function(t){e.speed="200"}}})])])]):e._e(),e._v(" "),e.ready?i("button",{on:{click:e.startGame}},[e._v("Lancer le jeu")]):e._e()]),e._v(" "),e._m(1),e._v(" "),i("div",[i("h2",[e._v("points:")]),e._v(" "),i("p",[e._v(e._s(e.points-3))])])]),e._v(" "),e._m(2),e._v(" "),e.end?i("div",{staticClass:"filter"}):e._e(),e._v(" "),e.end?i("div",{staticClass:"modal"},[i("h3",[e._v("Game Over!")]),e._v(" "),i("p",[e._v("Vous avez fait "+e._s(e.points-3)+" points")]),e._v(" "),i("button",{on:{click:e.resetData}},[e._v("Terminer")])]):e._e()])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("header",[t("h1",[this._v("Snake")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("h2",[e._v("Commandes")]),e._v(" "),i("p",[e._v("z = haut")]),e._v(" "),i("p",[e._v("q = gauche")]),e._v(" "),i("p",[e._v("s = bas")]),e._v(" "),i("p",[e._v("d = droite")]),e._v(" "),i("p",[e._v("espace = pause")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("table",[t("tbody")])}]};var c=i("VU/8")(n,d,!1,function(e){i("lYpG")},null,null).exports;r.a.use(s.a);var l=new s.a({routes:[{path:"/",name:"game",component:c}]});r.a.config.productionTip=!1,new r.a({el:"#app",router:l,components:{App:o},template:"<App/>"})},lYpG:function(e,t){},vGjf:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.89ed7a9ffaec8a137623.js.map